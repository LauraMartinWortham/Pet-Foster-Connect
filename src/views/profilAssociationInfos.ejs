<%- include('partials/header') %>

<main class="justify-self-stretch flex-1">
  <h2 class="font-grands text-3xl text-center my-2 pt-5">Bienvenue sur votre espace personnel</h2>
  <div class="flex flex-col content-center justify-center mx-auto mb-4 w-[80%]">
    
    <nav class="flex flex-wrap justify-center md:justify-start">
      <ul class="flex flex-wrap-reverse gap-x-2 mx-3 justify-center font-semibold md:justify-start md:ml-10 text-xl">
        <li><a href="/associations/profil" tabindex="0"><button id="dashbtn-1" class="dashbtn dashbtn-active px-8 py-3" tabindex="-1">Profil</button></a></li>
        <li><a href="/associations/profil/demandes" tabindex="0"><button id="dashbtn-2" class="dashbtn px-8 py-3" tabindex="-1">Demandes</button></a></li>
        <li><a href="/associations/profil/animaux" tabindex="0"><button id="dashbtn-3" class="dashbtn px-8 py-3" tabindex="-1">Animaux</button></a></li>
      </ul>
      <div class="mx-2 grow w-[90%] h-2 bg-accents1-dark rounded-t-lg"></div>
    </nav>
    
    <div class="font-body bg-zoning rounded-lg shadow dark:bg-gray-800 mb-4">
      
      <nav class="rounded-lg h-9">
        <ul class="rounded-t-lg flex h-9 content-center bg-accents2 justify-stretch font-semibold text-fond text-sm md:justify-start pl-2">
          <li class="dashsubbtn-active rounded-tl-lg block grow text-center pl-2 border-r-2 border-r-zoning py-2 hover:underline md:grow-0 md:px-4 md:rounded-none md:border-l-2 md:border-l-zoning bor"><a href="/associations/profil/">Mes informations</a></li>
          <li class="block grow text-center border-r-solid border-r-2 border-r-zoning py-2 hover:underline md:grow-0 md:px-4"><a href="/associations/profil/logo">Ajouter une image</a></li>
        </ul>
      </nav>
      
      <section class="flex flex-wrap justify-center" id="dashboard-container">
        <h3 class="font-grands text-3xl text-center my-2 pt-5 w-full">Mon profil</h3>
        
        <form class="flex flex-col flex-wrap content-center w-[60%] mx-auto justify-center text-texte" action="/associations/profil" method="POST">
          
          <fieldset class="w-full font-body rounded-lg shadow dark:bg-gray-800 my-2 py-5">
            <legend class="text-center">Mon organisme&nbsp;<span tabindex="0" class="material-symbols-outlined">edit</span></legend>
            
            <!-- Nom -->
            <div class="mx-auto p-2">
              <label class="text-center w-full" for="nom">Nom</label>
              <input class="block w-full" type="text" id="nom" name="nom" value="<%= association.nom %>" disabled>
            </div>

            <!-- Président -->
            <div class="mx-auto p-2">
              <label class="text-center w-full" for="president">Président</label>
              <input class="block w-full" type="text" id="president" name="president" value="<%= association.responsable %>" disabled>
            </div>

            <!-- Rue -->
            <div class="mx-auto p-2">  
              <label class="text-center w-full" for="rue">Rue</label>
              <input class="block w-full" type="text" id="rue" name="rue" value="<%= association.rue %>" disabled>
            </div>

            <!-- Commune -->
            <div class="mx-auto p-2">  
              <label class="text-center w-full" for="commune">Commune</label>
              <input class="block w-full" type="text" id="commune" name="commune" value="<%= association.commune %>" disabled>
            </div>

            <!-- Code Postal -->
            <div class="mx-auto p-2">   
              <label class="text-center w-full" for="code_postal">Code Postal</label>
              <input class="block w-full" type="text" id="code_postal" name="code_postal" pattern="^(?:0[1-9]|[1-8]\d|9[0-8])\d{3}$" value="<%= association.code_postal %>" disabled>
            </div>

            <!-- Pays -->
            <div class="mx-auto p-2">  
              <label class="text-center w-full" for="pays">Pays</label>
              <input class="block w-full" type="text" id="pays" name="pays" value="<%= association.pays %>" disabled>
            </div>

            <!-- Téléphone -->
            <div class="mx-auto p-2">  
              <label class="text-center w-full" for="telephone">N° Téléphone</label>
              <input class="block w-full" type="tel" id="telephone" name="telephone" pattern="^(0|\+33 )[1-9]([-. ]?[0-9]{2} ){3}([-. ]?[0-9]{2})|([0-9]{8})$" value="<%= association.telephone %>" disabled>
            </div>

            <!-- N° SIRET -->
            <div class="mx-auto p-2">  
              <label class="text-center w-full" for="siret">N° SIRET</label>
              <input class="block w-full" type="text" id="siret" name="siret" pattern="^(\d{14}|((\d{3}[ ]\d{3}[ ]\d{3})|\d{9})[ ]\d{5})$" value="<%= association.siret %>" disabled>
            </div>

            <!-- Site Web -->
            <div class="mx-auto p-2">  
              <label class=# for="site">Site Web</label>
              <input class=# type="url" name="site" id="site" value="<%= association.site %>"  pattern="https://.*" size="40" disabled />
            </div>
  
            <!-- Description -->
            <div class="flex mx-auto p-2">
              <label class="place-items-start pr-1" for="description">Description</label>
              <textarea rows="5" cols="33" class=# type="text" name="description" id="description" disabled><%= association.description %></textarea>
            </div>
          </fieldset>
          
          <button id="validateBtn" class="hidden w-full md:w-[60%] mx-auto my-3 py-2 px-4 bg-accents1-light text-fond transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg" type="submit">Valider les modifications</button>
          
        </form>
      </section>
      <section class="flex flex-wrap justify-center">
        <form class="flex flex-col flex-wrap content-center justify-around text-texte" action="/association/profil/delete" method="POST" onsubmit="return confirm('Voulez-vous vraiment supprimer votre profil ? Cette action est irréversible !')">
          <button class="w-full md:w-[60%] mx-auto my-3 py-2 px-4 bg-accents2-dark text-fond transition ease-in duration-200 text-center text-base font-semibold shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 rounded-lg" type="submit">Supprimer mon profil</button>
          <p class="text-center w-full">ATTENTION ! Cette suppression est définitive !</p>
        </form>
      </section>
    </div>
  </div>
</main>

<script src='/utils/editShelterInputs.js' async></script>

<%- include('partials/footer') %>